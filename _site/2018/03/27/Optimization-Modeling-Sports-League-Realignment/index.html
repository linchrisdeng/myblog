<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="description" content="What did I do && What will I do">
    <meta name="keywords"  content="">
    <meta name="theme-color" content="">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Optimization Modeling: Sports League Realignment - Lin Blog | Blog">
    
    <meta property="og:type" content="article">
    <meta property="og:description" content="Introduction

">
    
    <meta property="article:published_time" content="2018-03-27T07:00:00Z">
    
    
    <meta property="article:author" content="LIN">
    
    
    <meta property="article:tag" content="Optimization">
    
    <meta property="article:tag" content="Model">
    
    <meta property="article:tag" content="AMPL">
    
    <meta property="article:tag" content="R">
    
    <meta property="article:tag" content="Sports">
    
    
    <meta property="og:image" content="http://localhost:4000/img/sidebar_img.jpg">
    <meta property="og:url" content="http://localhost:4000/2018/03/27/Optimization-Modeling-Sports-League-Realignment/">
    <meta property="og:site_name" content="Lin Blog | Blog">
    
    <title>Optimization Modeling: Sports League Realignment - Lin Blog | Blog</title>

    <!-- Web App Manifest -->
    <link rel="manifest" href="/pwa/manifest.json">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/img/favicon.ico">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="http://localhost:4000/2018/03/27/Optimization-Modeling-Sports-League-Realignment/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->

<nav class="navbar navbar-default navbar-custom navbar-fixed-top">

    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Lin Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
                    
                    
                    
                    
                    <li>
                        <a href="/about/">About</a>
                    </li>
                    
                    
                    
                    <li>
                        <a href="/archive/">Archive</a>
                    </li>
                    
                    
                    
                    
                    
                    
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    var __HuxNav__ = {
        close: function(){
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        },
        open: function(){
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }

    // Bind Event
    $toggle.addEventListener('click', function(e){
        if ($navbar.className.indexOf('in') > 0) {
            __HuxNav__.close()
        }else{
            __HuxNav__.open()
        }
    })

    /**
     * Since Fastclick is used to delegate 'touchstart' globally
     * to hack 300ms delay in iOS by performing a fake 'click',
     * Using 'e.stopPropagation' to stop 'touchstart' event from 
     * $toggle/$collapse will break global delegation.
     * 
     * Instead, we use a 'e.target' filter to prevent handler
     * added to document close HuxNav.  
     *
     * Also, we use 'click' instead of 'touchstart' as compromise
     */
    document.addEventListener('click', function(e){
        if(e.target == $toggle) return;
        if(e.target.className == 'icon-bar') return;
        __HuxNav__.close();
    })
</script>


    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/in-post/NHL/post-NHL-0.jpg" width="0" height="0"> -->

<!-- Post Header -->



<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/in-post/NHL/post-NHL-0.jpg');
        background: ;
    }

    
</style>

<header class="intro-header" >

    <div class="header-mask"></div>
    
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/archive/?tag=Optimization" title="Optimization">Optimization</a>
                        
                        <a class="tag" href="/archive/?tag=Model" title="Model">Model</a>
                        
                        <a class="tag" href="/archive/?tag=AMPL" title="AMPL">AMPL</a>
                        
                        <a class="tag" href="/archive/?tag=R" title="R">R</a>
                        
                        <a class="tag" href="/archive/?tag=Sports" title="Sports">Sports</a>
                        
                    </div>
                    <h1>Optimization Modeling: Sports League Realignment</h1>
                    
                    <h2 class="subheading"></h2>
                    <span class="meta">Posted by LIN on March 27, 2018</span>
                </div>
            </div>
        </div>
    </div>
</header>






<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <!-- Multi-Lingual -->
                

				<h2 id="introduction">Introduction</h2>

<p>For MLB, NBA, NFL, NHL these four big leagues in North America normally consists of 30 to 32 teams. These teams will play same number of home and away games in the same division, and against some teams in other conferences and divisions.</p>

<p>Take the National Hockey League (NHL) as an example, prior to 2013, the league was structured into two 15-team conferences, each subdivided into three 5-team. This kind of assignment is called <strong>League Structure</strong>.</p>

<p><img src="/img/in-post/NHL/post-NHL-1.jpg" alt="NHL 2008-2012" /></p>

<p>But for 2013-2014 season, the league realign the number of subdivision to 4.</p>

<p><img src="/img/in-post/NHL/post-NHL-1.jpg" alt="NHL 2013-2014" /></p>

<p>Hence for this optimization problem we need to focus on how to build a model that will support the construction of a efficient league structure.</p>

<h2 id="league-structure-evaluation">League Structure Evaluation</h2>

<p>The purpose of constructing a league structure is to minimize the total travel distance for a whole season. We set $S$ as the league structure, the measure or objective function $D(S)$ is defined as the total distances over all games between pairs $(i, j)$ teams or cities. Base on above, let $d(i,j) $ as distance between teams or home cities $(i, j)$ , $g(i, j)$ as the number of games between pair $(i, j)$ in a season. The objective can be defined as:</p>

<script type="math/tex; mode=display">D(S) = \sum_{(i,j)}d(i, j)g(i,j)</script>

<h2 id="mixed-integer-programming-mip">Mixed Integer Programming (MIP)</h2>

<p>Our realignment (league structure) is a common Mixed Integer Progarmming which require one additional condition that at least one of the variables can and only take integer value. For NHL teams whther to be assigned to one of subdivision is a binary (0 or 1) problem.</p>

<p>The basic form of MIP:</p>

<p>Minimize</p>

<script type="math/tex; mode=display">\beta^T X</script>

<p>subject to</p>

<script type="math/tex; mode=display">AX \le b, X\geq 0</script>

<p>Where</p>

<script type="math/tex; mode=display">X = (x_1, x_2, x_3, ..., x_n)^T, x_i \in X \ are \ restricted\  to\  integer</script>

<script type="math/tex; mode=display">\beta = (\beta_1, \beta_2, \beta_3,..., \beta_n)^T</script>

<script type="math/tex; mode=display">% <![CDATA[
A = \begin {pmatrix}a_{11} &...  &a_{1n}\\ \vdots &\ddots &\vdots \\a_{n1} &... &a_{nn} \end {pmatrix} %]]></script>

<script type="math/tex; mode=display">b = (b_1, b_2, b_3,..., b_n)^T</script>

<h2 id="minimizing-the-total-league-travel-distance-mip">Minimizing the total league travel distance MIP</h2>

<ul>
  <li>$T$ is a set of $n$ teams or cities</li>
  <li>$S$ is a set of $s$ divisions</li>
  <li>$D = (D_{ij} = d(i, j): i, j \in T)$ is a $n \times n$ matrix that contains distance between each pair of cities</li>
  <li>G is a $s \times s$ matrix. $G_{u, v}$ represent average number of games between division $u$ and $v$, it was calculated by the understanding the schedule of NHL, details could be seen at <a href="https://en.wikipedia.org/wiki/Season_structure_of_the_NHL">Season structure of the NHL</a></li>
  <li>Set $b$ as the number of teams assigned into each divisions</li>
</ul>

<blockquote>
  <p><strong>2008 - 2012</strong></p>

  <p>NHL was a 2-conference, 6-division league where $n = 30, s = 6, b = [5, 5, 5, 5, 5, 5]$</p>
</blockquote>

<script type="math/tex; mode=display">% <![CDATA[
G = \begin{pmatrix} 3 & 2 & 2 & 0.6 & 0.6 & 0.6 \\ 2 & 3 & 2 & 0.6 & 0.6 & 0.6 \\ 2 & 2 & 3 & 0.6 & 0.6 & 0.6 \\ 0.6 & 0.6 & 0.6 & 3 & 2 & 2 \\ 0.6 & 0.6 & 0.6 & 2 & 3 & 2 \\   0.6 & 0.6 & 0.6 & 2 & 2 & 3 \\\end{pmatrix} %]]></script>

<blockquote>
  <p><strong>2013 - 2014</strong></p>

  <p>NHL had 4 divisions where $n = 30, s = 4, b = [7, 7, 8, 8]$</p>
</blockquote>

<script type="math/tex; mode=display">% <![CDATA[
G = \begin{pmatrix} \frac{15}{7} & \frac{3}{2} & 1 & 1 \\ \frac{3}{2} & \frac{15}{7} &1 & 1 \\ 1 & 1 & \frac{14.5}{6} & \frac{3}{2} \\ 1 & 1 & \frac{3}{2} & \frac{14.5}{6} \end{pmatrix} %]]></script>

<h3 id="formulate-mip">Formulate MIP</h3>

<p>Set $x_{iu} = 1$ if team i in division j else $x_{iu} = 0$. Hence, we can get objective function as</p>

<p>minimize</p>

<script type="math/tex; mode=display">F(x) = \sum_{i,j \in T} \sum_{u,v \in S} x_{iu} \cdot x_{jv} \cdot D_{ij} \cdot G_{uv}</script>

<blockquote>
  <p>However, this may lead objective function $F(x) = 0$,  or one of the team will be assigned to multiple divisions, then we need a more rigorous term to define the assignment of each teams corresponding to each divisions.</p>
</blockquote>

<p>Set $Y_{ijuv}$ as follows: for each pair of teams $(i,j)$ and each pair of divisions $(u, v)$, if $y_{ijuv} = 1$ means team $i$ is assigned to division $u$, team $j$ is assigned to division $v$</p>

<ul>
  <li>$\sum_{u, v \in S} Y_{ijuv} = 1$ for each pair of cities $(i, j)$</li>
  <li>$\sum_{i, j \in T} Y_{ijuv} = b_u \cdot b_v$ for each pair of divisions $(u, v)$</li>
</ul>

<p>For now we can summarize out MIP optimization:</p>

<p>minimize</p>

<script type="math/tex; mode=display">\sum_{i,j\in T; u,v\in S} Y_{ijuv} \cdot D_{ij}  \cdot G_{uv}</script>

<p>s.t.</p>

<script type="math/tex; mode=display">\sum_{i \in T} x_{iu} = b_u \ for \ u \in S</script>

<blockquote>
  <p>number of teams in each division must fullfill requirment</p>
</blockquote>

<script type="math/tex; mode=display">\sum_{u \in S}  x_{iu} = 1 \ for \  i \in T</script>

<blockquote>
  <p>each team can only be assigned into one division</p>
</blockquote>

<script type="math/tex; mode=display">\sum_{u, v \in S} y_{ijuv} = 1 \ for \ each  \ pair \ of \ teams \ (i, j)</script>

<script type="math/tex; mode=display">\sum_{i, j \in T} y_{ijuv} = b_u \cdot b_v\ for \ each \ pair \ of \ divisions \ (u, v)</script>

<blockquote>
  <p>for any two divisions, will have $b_u \cdot b_v$ pairs of teams</p>
</blockquote>

<script type="math/tex; mode=display">y_{ijuv} \leq x_{iu} \ \ \ i,j \in T \ u,v \in S</script>

<script type="math/tex; mode=display">y_{ijuv} \leq x_{jv} \ \ \ i,j \in T \ u,v \in S</script>

<blockquote>
  <p>$y_{ijuv} = 1$ when both $x_{iu}, x_{jv} = 1$</p>
</blockquote>

<h2 id="application">Application</h2>

<p>Base on the above MIP, we can apply this to our own division schedule.</p>

<h3 id="roller-derby">Roller Derby</h3>

<p>A organizing committee for a new Roller Derby sports league
is in the process of assigning 16 teams to four divisions in such a way that overall league travel is minimized. The 16 teams are located in the following cities.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">indianapolis,   in</th>
      <th>columbus, oh</th>
      <th>cincinnati, oh</th>
      <th>st. paul, mn</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">milwaukee, wi</td>
      <td>memphis, tn</td>
      <td>toledo, oh</td>
      <td>grand rapids, mi</td>
    </tr>
    <tr>
      <td style="text-align: center">bloomington, il</td>
      <td>louisville, ky</td>
      <td>rockford, il</td>
      <td>fort wayne, in</td>
    </tr>
    <tr>
      <td style="text-align: center">cedar rapids, ia</td>
      <td>topeka, ks</td>
      <td>green bay, wi</td>
      <td>sioux falls, sd</td>
    </tr>
  </tbody>
</table>

<p>And what if we assigned <strong>Fort Wanye, IN</strong> and <strong>Indianapolis, IN</strong> into a same division. How  does this new constraint affect the total distance and alignment ?</p>

<p>Details can be seen in my <a href="https://github.com/linchrisdeng/Optimization-Modeling-Sports-League-Realignment">GitHub</a> or <a href="https://htmlpreview.github.io/?https://github.com/linchrisdeng/Optimization-Modeling-Sports-League-Realignment/blob/master/Realignment.html#model">here</a></p>

<h3 id="update">Update</h3>

<ul>
  <li>In R, <a href="http://www.datasciencetoolkit.org/about">DataScienceToolkit</a> will not support  <code class="highlighter-rouge">geocode</code> function <code class="highlighter-rouge">dsk</code> API anymore, please register, please register <a href="https://developers.google.com/maps/documentation/geocoding/start">Google GeoCoding API</a></li>
  <li>To solve this MIP Optimization problem I use <a href="https://ampl.com/products/ampl/">AMPL</a> which is a optimization modeling system support (CPLEX, Gurobi, Xpress) solver, but it is not free to use except <a href="https://ampl.com/products/ampl/ampl-for-students/">30-day trial</a> for students</li>
</ul>

<h2 id="references">References</h2>

<ol>
  <li>
    <p><a href="https://ncss-wpengine.netdna-ssl.com/wp-content/themes/ncss/pdf/Procedures/NCSS/Mixed_Integer_Programming.pdf">Mix Integer Programming</a></p>
  </li>
  <li>
    <p>Macdonald, B. and Pulleyblank, W., 2014. Realignment in the NHL, MLB, NFL, and NBA. <em>Journal of Quantitative Analysis in Sports</em>, <em>10</em>(2), pp.225-240.</p>
  </li>
</ol>



                <hr style="visibility: hidden;">
                <ul class="pager">
                    
                    
                    <li class="next">
                        <a href="/2019/03/21/Introduction-to-Gradient-Descent-and-Newtons-Method/" data-toggle="tooltip" data-placement="top" title="Introduction to Gradient Descent and Newton's Method">
                        Next<br>
                        <span>Introduction to Gradient Descent and Newton's Method</span>
                        </a>
                    </li>
                    
                </ul>
                <hr style="visibility: hidden;">

                

                
            </div>  

    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                


<section>
    
        <hr class="hidden-sm hidden-xs">
    
    <h5><a href="/archive/">FEATURED TAGS</a></h5>
    <div class="tags">
        
        
        
        </a>
        
        
                <a data-sort="0000" 
                    href="/archive/?tag=Optimization"
                    title="Optimization"
                    rel="5">Optimization</a>
        
                <a data-sort="0001" 
                    href="/archive/?tag=Machine+Learning"
                    title="Machine Learning"
                    rel="4">Machine Learning</a>
        
                <a data-sort="0001" 
                    href="/archive/?tag=Python"
                    title="Python"
                    rel="4">Python</a>
        
                <a data-sort="0002" 
                    href="/archive/?tag=Gradient+Descent"
                    title="Gradient Descent"
                    rel="3">Gradient Descent</a>
        
                <a data-sort="0002" 
                    href="/archive/?tag=Newton%27s+Method"
                    title="Newton's Method"
                    rel="3">Newton's Method</a>
        
                <a data-sort="0003" 
                    href="/archive/?tag=Logistic+Regression"
                    title="Logistic Regression"
                    rel="2">Logistic Regression
    </div>
</section>


                <!-- Friends Blog -->
                <!-- 
<hr>
<h5>LINKS</h5>
<ul class="list-inline">
  
  <li><a href="http://huangxuan.me">Hux Blog</a></li>
  
  <li><a href="#">Foo</a></li>
  
  <li><a href="#">Bar</a></li>
  
  <li><a href="#">Example Friends</a></li>
  
  <li><a href="#">It helps SEO</a></li>
  
</ul>
 -->
            </div>
        </div>
    </div>
</article>

<!-- add support for mathjax by voleking-->

  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    TeX: {
      equationNumbers: {
        autoNumber: "AMS"
      }
    },
    SVG: {
      scale: 90
    },
    tex2jax: {
      inlineMath: [ ['$','$'] ],
      displayMath: [ ['$$','$$'] ],
      processEscapes: true,
    }
  });
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG">
</script>









<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!-- SNS Link -->
                


<ul class="list-inline text-center">


  
  
  
  
  
  
  <li>
    <a target="_blank" href="https://github.com/linchrisdeng">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
  <li>
    <a target="_blank" href="https://www.linkedin.com/in/lin-deng-280200137">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
</ul>

                <p class="copyright text-muted">
                    Copyright &copy; Lin Blog 2019
                    <br>
                    Powered by <a href="https://jekyllrb.com/">Jekyll</a> & 
                    Theme by <a href="https://tianqi.name/jekyll-TeXt-theme/docs/en/structure">TeXt </a> &
                        <a href="https://github.com/Huxpro/huxpro.github.io#boilerplate-beta">Hux</a> 

<!--                     |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=huxpro&repo=huxpro.github.io&type=star&count=true" >
                    </iframe> -->
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<!-- Currently, only navbar scroll-down effect at desktop still depends on this -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>

<!-- Service Worker -->


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!--
     Because of the native support for backtick-style fenced code blocks
     right within the Markdown is landed in Github Pages,
     From V1.6, There is no need for Highlight.js,
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->





<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->

<script>
    // dynamic User by Hux
    var _gaId = 'UA-139933717-1';
    var _gaDomain = 'linchrisdeng.github.io';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>



<!-- Baidu Tongji -->



<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog (selector) {

        // interop with multilangual 
        if ('' == 'true') {
            _containerSelector = 'div.post-container.active'
        } else {
            _containerSelector = 'div.post-container'
        }

        // init
        var P = $(_containerSelector),a,n,t,l,i,c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        // clean
        $(selector).html('')

        // appending
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#"+$(this).prop('id');
            t = $(this).text();
            c = $('<a href="'+i+'" rel="nofollow">'+t+'</a>');
            l = $('<li class="'+n+'_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function(e){
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>



<!-- Multi-Lingual -->




<!-- Image to hack wechat -->
<img src="/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
